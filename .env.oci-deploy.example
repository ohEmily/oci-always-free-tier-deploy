# OCI Deployment Configuration
#
# Copy this file to .env.oci-deploy and fill in your values:
#   cp .env.oci-deploy.example .env.oci-deploy
#
# This file is NOT version controlled (.gitignore) since it contains secrets.

# =============================================================================
# OCI Account (REQUIRED - get these from OCI Console)
# =============================================================================

# Tenancy and User OCIDs
# Get from: OCI Console -> Profile -> Tenancy/User Settings
export TENANCY_OCID="ocid1.tenancy.oc1..aaaaaaaXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
export USER_OCID="ocid1.user.oc1..aaaaaaaXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"

# Region Configuration
# Choose your home region (e.g., us-ashburn-1, us-phoenix-1, eu-frankfurt-1)
export REGION="us-ashburn-1"
export REGION_KEY="iad"  # Region key for OCIR (iad=us-ashburn-1, phx=us-phoenix-1, etc.)

# OCIR Authentication Token (SECRET - treat like a password)
# Generate from: OCI Console -> Profile -> Auth Tokens
export OCIR_AUTH_TOKEN="your-auth-token-here"

# Tenancy namespace and username for OCIR login
# Get namespace from: OCI Console -> Profile -> Tenancy -> Object Storage Settings
export TENANCY_NAMESPACE="your-tenancy-namespace"
export OCI_USERNAME="your-email@example.com"

# =============================================================================
# Kubernetes Cluster Configuration
# =============================================================================

export KUBERNETES_VERSION="v1.32.1"
export CLUSTER_NAME="my-cluster"
export NODE_POOL_NAME="my-nodes"
export NAMESPACE="my-app"

# =============================================================================
# Node Pool Configuration
# =============================================================================
# VM.Standard.A1.Flex is Oracle's free-tier ARM (Ampere A1) shape
# Always free: up to 4 OCPUs and 24GB RAM total across all A1 instances

export NODE_SHAPE="VM.Standard.A1.Flex"
export NODE_COUNT="2"
export NODE_OCPUS="2"       # OCPUs per node (total across all nodes must be <= 4 for free tier)
export NODE_MEMORY_GB="12"  # GB RAM per node (total across all nodes must be <= 24 for free tier)

# =============================================================================
# Network Configuration
# =============================================================================

export VCN_NAME="my-vcn"
export VCN_CIDR="10.0.0.0/16"
export SUBNET_NAME="my-subnet"
export SUBNET_CIDR="10.0.1.0/24"

# =============================================================================
# Application Repository Configuration
# =============================================================================
# Path to the docker-bake.hcl file in your application repository
export BAKE_FILE="/path/to/your-app/docker-bake.hcl"

# Kustomize overlay directory (relative to the directory containing BAKE_FILE)
export KUSTOMIZE_DIR="k8s/overlays/oci"

# =============================================================================
# Derived Values (computed from above - do not edit)
# =============================================================================

export OCIR_URL="${REGION_KEY}.ocir.io"
export OCIR_PREFIX="${OCIR_URL}/${TENANCY_NAMESPACE}"
